$(document).ready(function () {
    var visibility = false;
    var table = $('#example').DataTable({
        data: dataSet,
        columns: [
            { title: "Trading Date" },
            { title: "Forecast Close Price" },
            { title: "Actual Close Price" }
        ]
    });

    $('#example tbody').css('visibility', 'hidden');

    $('#example thead').on('click', function () {
        visibility = !visibility;
        $('#example tbody').css('visibility', visibility ? 'visible' : 'hidden');

    });

    $('#example tbody').on('click', 'tr', function () {
        var data = table.row(this).data();
        // data has selected row contents
        var matchedEmployee = $.grep(salary, function (v) {
            return v[0] === data[0];
        });

        console.log(matchedEmployee);
        $('#expanded').DataTable({
            data: matchedEmployee,
            columns: [
                { title: "Employee ID" },
                { title: "Salary" }
            ],
            paging: false,
            searching: false,
            "bDestroy": true
        });

        $('#expanded').css('display', 'block');
    });
});

//sample data for upper table
var dataSet = [
	["2021-11-24","1.2931","1.37"],
	["2021-11-26","1.0122","1.37"],
	["2021-11-29","1.0079","1.27"],
	["2021-11-30","0.9559","1.19"],
	["2021-12-01","0.9405","1.1"],
	["2021-12-02","1.0321","1.11"],
	["2021-12-03","0.9564","1.02"],
	["2021-12-06","1.0487","1.11"],
	["2021-12-07","1.0857","1.12"],
	["2021-12-08","1.2346","1.16"],
	["2021-12-09","1.1382","1.07"],
	["2021-12-10","1.0507","1.1"],
	["2021-12-13","1.1738","1.04"],
	["2021-12-14","1.0377","1.04"],
	["2021-12-15","0.9154","1.09"],
	["2021-12-16","0.9417","1.03"],
	["2021-12-17","0.8757","1.05"],
	["2021-12-20","0.8943","1.01"],
	["2021-12-21","0.9871","0.8804"],
	["2021-12-22","0.9802","0.787"],
	["2021-12-23","0.9824","0.88"],
	["2021-12-27","0.9149","1.01"],
	["2021-12-28","0.8877","0.9161"],
	["2021-12-29","0.8036","0.8978"],
	["2021-12-30","0.7205","0.8903"],
	["2021-12-31","0.7288","0.85"],
	["2022-01-03","0.7915","0.9001"],
	["2022-01-04","0.7424","0.9087"],
	["2022-01-05","0.7287","0.84"],
	["2022-01-06","0.741","0.8581"],
	["2022-01-07","0.8008","0.8245"],
	["2022-01-10","0.8915","0.7973"],
	["2022-01-11","0.8464","0.796"],
	["2022-01-12","0.8424","0.7716"],
	["2022-01-13","0.815","0.7198"],
	["2022-01-14","0.8418","0.7494"],
	["2022-01-18","0.7803","0.7071"],
	["2022-01-19","0.7568","0.655"],
	["2022-01-20","0.6823","0.6096"],
	["2022-01-21","0.642","0.5515"],
	["2022-01-24","0.757","0.57"],
	["2022-01-25","0.7474","0.6336"],
	["2022-01-26","0.7125","0.5868"],
	["2022-01-27","0.6102","0.56"],
	["2022-01-28","0.589","0.5604"],
	["2022-01-31","0.5635","0.5817"],
	["2022-02-01","0.5579","0.61"],
	["2022-02-02","0.5506","0.5803"],
	["2022-02-03","0.5402","0.564"],
	["2022-02-04","0.5057","0.5561"],
	["2022-02-07","0.7","0.54"],
	["2022-02-08","0.637","0.5365"],
	["2022-02-09","0.6879","0.5687"],
	["2022-02-10","0.6055","0.543"],
	["2022-02-11","0.5124","0.5317"],
	["2022-02-14","0.5473","0.5331"],
	["2022-02-15","0.587","0.5347"],
	["2022-02-16","0.5837","0.5323"],
	["2022-02-17","0.5327","0.522"],
	["2022-02-18","0.4956","0.5022"],
	["2022-02-22","0.7724","0.455"],
	["2022-02-23","0.7053","0.5938"],
	["2022-02-24","0.8774","0.7479"],
	["2022-02-25","0.7525","0.6888"],
	["2022-02-28","0.584","0.709"],
	["2022-03-01","0.6881","0.6373"],
	["2022-03-02","0.681","0.6481"],
	["2022-03-03","0.6528","0.5912"],
	["2022-03-04","0.7427","0.78"],
	["2022-03-07","0.5585","1.28"],
	["2022-03-08","1.049","1.24"],
	["2022-03-09","0.9805","1.07"],
	["2022-03-10","1.3203","1.07"],
	["2022-03-11","1.1324","0.9173"],
	["2022-03-14","0.8695","0.8695"],
	["2022-03-15","1.0456","0.77"],
	["2022-03-16","0.9772","0.7898"],
	["2022-03-17","0.8864","0.8777"],
	["2022-03-18","0.7675","0.8306"],
	["2022-03-21","0.6044","0.94"],
	["2022-03-22","0.9179","0.9272"],
	["2022-03-23","0.9464","0.9838"],
	["2022-03-24","0.9651","0.9057"],
	["2022-03-25","0.9137","0.87"],
	["2022-03-28","1.0422","0.8561"],
	["2022-03-29","0.7901","0.86"],
	["2022-03-30","0.8239","0.88"],
	["2022-03-31","0.8327","0.8465"],
	["2022-04-01","0.6692","0.83"],
	["2022-04-04","0.9426",""],
	["2022-04-05","0.6378",""],
	["2022-04-06","0.6174",""],
	["2022-04-07","0.7358",""],
	["2022-04-08","1.3178",""],
	["2022-04-11","1.5584",""],
	["2022-04-12","1.9358",""],
	["2022-04-13","1.6962",""],
	["2022-04-14","0.7781",""],
	["2022-04-15","0.7612",""],
	["2022-04-18","1.8213",""]
];

